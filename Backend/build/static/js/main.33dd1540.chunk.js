(this["webpackJsonpreact-test-app-frontend"]=this["webpackJsonpreact-test-app-frontend"]||[]).push([[0],{19:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(2),o=n.n(c),a=n(14),r=n.n(a),i=(n(19),n(3)),u=n(4),s=n.n(u),l=n(0),d=function(e){var t=e.message;return null===t?null:Object(l.jsx)("div",{className:"error",children:t})},j=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(""),r=Object(i.a)(a,2),u=r[0],j=r[1],b=Object(c.useState)(""),f=Object(i.a)(b,2),h=f[0],m=f[1],p=Object(c.useState)(""),O=Object(i.a)(p,2),g=O[0],v=O[1],x=Object(c.useState)(null),w=Object(i.a)(x,2),C=w[0],L=w[1],S=n.map((function(e){return e.name.toLocaleLowerCase()}));Object(c.useEffect)((function(){s.a.get("http://localhost:3001/api/persons").then((function(e){console.log(e.data),o(e.data)}))}),[]);var y=function(e){return Object(l.jsxs)("div",{children:[e.name," ",e.number," ",e.id,Object(l.jsx)("button",{type:"submit",onClick:function(){console.log(e),F(e.id)},children:"delete"})]})},T=n.filter((function(e){return e.name.toLocaleLowerCase().includes(g.toLowerCase())})).map((function(e){return Object(l.jsx)(y,{name:e.name,number:e.number,id:e.id},e.name)})),k=function(e,t){if(e.preventDefault(),S.includes(u.toLocaleLowerCase()))alert("".concat(u," is already added"));else{var c={name:u.replace(/\b([a-zA-Z])(\w+)/g,(function(e,t,n){return t.toUpperCase()+n.toLocaleLowerCase()})),number:h};s.a.post("http://localhost:3001/api/persons",c).then((function(e){o(n.concat(e.data)),L("".concat(c.name," was added")),j(""),m(""),setTimeout((function(){L(null)}),5e3)})).catch((function(e){L("This person ".concat(c," was not able to get added")),setTimeout((function(){L(null)}),5e3),o(n.filter((function(e){return e.id!==t})))}))}},F=function(e){var t=n.filter((function(t){return t.id===e}));console.log(n),console.log(e);var c=t[0].id;console.log(t[0].name),console.log(t[0].id),window.confirm("Are you sure you want to delete ".concat(t[0].name,"?"))&&function(e){s.a.delete("http://localhost:3001/api/persons/".concat(e)).then((function(t){o(n.filter((function(t){return t.id!==e})))})).catch((function(e){console.log("The person could not be deleted tbh")}))}(c),console.log("".concat(t[0].name," successfully deleted"))};return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Phonebook"}),Object(l.jsx)(d,{message:C}),Object(l.jsxs)("form",{onSubmit:function(e){return k(e)},children:[Object(l.jsxs)("div",{children:["filter:"," ",Object(l.jsx)("input",{onChange:function(e){return function(e){v(e.target.value)}(e)},value:g})]}),Object(l.jsx)("h1",{children:"Add a new "}),Object(l.jsxs)("div",{children:["name:"," ",Object(l.jsx)("input",{onChange:function(e){return function(e){j(e.target.value)}(e)},value:u})]}),Object(l.jsxs)("div",{children:["number:"," ",Object(l.jsx)("input",{onChange:function(e){return function(e){m(e.target.value)}(e)},value:h})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]}),Object(l.jsx)("h2",{children:"Numbers"}),T]})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),a(e),r(e)}))};r.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(j,{})}),document.getElementById("root")),b()}},[[39,1,2]]]);
//# sourceMappingURL=main.33dd1540.chunk.js.map